<!DOCTYPE html>
<html lang="en">

<head>

	<!-- Meta Tag -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- SEO -->
	<meta name="author" content="drakecb">
	<meta name="url" content="http://cbpi.github.io">
	<meta name="baidu-site-verification" content="ddtIL6Awza" />
    <meta name="description" content="列举docker里面常用的一些命令，镜像操作，容器操作等等。">
	<title>Docker常用命令</title>

	<!-- Favicon -->
	<link rel="shortcut icon" href="/images/avatar.jpeg">
	<link rel="apple-touch-icon-precomposed" type="image/png" href="/images/avatar.jpeg" sizes="114x114">

	<!-- All CSS Plugins -->
	<link rel="stylesheet" type="text/css" href="/css/rouge.css">
	<link rel="stylesheet" type="text/css" href="/css/plugin.css">

	<!-- Main CSS Stylesheet -->
	<link rel="stylesheet" type="text/css" href="/css/style.css">

	<!-- Google Web Fonts  -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

	<!-- HTML5 shiv and Respond.js support IE8 or Older for HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<!-- <script type="text/javascript" src="/js/jquery.query.js"></script> -->
	<!-- 百度统计 -->
	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?96715dc203611cdcb5539a15664fe630";
	  var s = document.getElementsByTagName("script")[0];
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


</head>

<body>

<!-- Preloader Start -->
<div class="preloader">
	<div class="rounder"></div>
</div>
<!-- Preloader End -->
<div id="main">
	<div class="container">
		<div class="row">
			<!-- About Me (Left Sidebar) Start -->
<div class="col-md-3">
	<div class="about-fixed">
		<div class="my-pic">
			<img src="/images/avatar.jpeg" alt="">
			<a href="javascript:void(0)" class="collapsed" data-target="#menu" data-toggle="collapse"><i class="icon-menu menu"></i></a>
			<div id="menu" class="collapse">
				<ul class="menu-link">
					<li><a href="/">首页</a></li>
					<li><a href="/about">关于</a></li>
					<li><a href="/category">分类</a></li>
				</ul>
			</div>
		</div>
		<div class="my-detail">
			<div class="white-spacing">
				<h1>Drake</h1>
				<span>从事前端，爱研究，爱猫</span>
			</div>
			<ul class="social-icon">
				<li><a href="https://weibo.com/bo0918" target="_blank" class="weibo"><i class="fab fa-weibo"></i></a></li>
				<li><a href="https://twitter.com/pii0918" target="_blank" class="twitter"><i class="fab fa-twitter"></i></a></li>
				<li><a href="https://www.instagram.com/pi0918pi/" target="_blank" class="instagram"><i class="fab fa-instagram"></i></a></li>
				<li><a href="https://github.com/cbpi" target="_blank" class="github"><i class="fab fa-github"></i></a></li>
			</ul>
		</div>
	</div>
	<div class="category-list">
		
		<p>
			<a href="/category.html?category=JavaScript" title="view all posts">JavaScript(6)</a>
		</p>
		
		<p>
			<a href="/category.html?category=工具" title="view all posts">工具(6)</a>
		</p>
		
		<p>
			<a href="/category.html?category=Git" title="view all posts">Git(4)</a>
		</p>
		
		<p>
			<a href="/category.html?category=Gulp" title="view all posts">Gulp(5)</a>
		</p>
		
		<p>
			<a href="/category.html?category=Jekyll" title="view all posts">Jekyll(6)</a>
		</p>
		
		<p>
			<a href="/category.html?category=css" title="view all posts">css(1)</a>
		</p>
		
		<p>
			<a href="/category.html?category=Markdown" title="view all posts">Markdown(1)</a>
		</p>
		
		<p>
			<a href="/category.html?category=vue" title="view all posts">vue(2)</a>
		</p>
		
		<p>
			<a href="/category.html?category=solution" title="view all posts">solution(1)</a>
		</p>
		
	</div>
</div>
<!-- About Me (Left Sidebar) End -->

			<!-- Blog Post (Right Sidebar) Start -->
			<div class="col-md-9">
				<div class="col-md-12 page-body">
					<div class="row">
						<div class="sub-title">
							<a href="/" title="Go to Home Page">
								<h2>返回首页</h2>
							</a>
							<a href="#comment" class="smoth-scroll"><i class="icon-bubbles"></i></a>
						</div>

						<div class="col-md-12 content-page">
							<div class="col-md-12 blog-post">
								<!-- Post Headline Start -->
								<div class="post-title">
									<h1>Docker常用命令</h1>
								</div>
								<!-- Post Headline End -->
								<!-- Post Detail Start -->
								<div class="post-info">
									<span>
										<i class="fas fa-calendar-alt"></i> 2018-10-19 &nbsp;&nbsp;
										<i class="fas fa-tags"></i> 工具
									</span>
								</div>
								<div class="post-content">
									<blockquote>
  <p>根据搜索的文献，官网的文档，列举了使用docker时常用的一些命令</p>
</blockquote>

<h3 id="查看docker基本信息">查看docker基本信息</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">docker</span> <span class="o">--</span><span class="nx">version</span>                <span class="err">#</span><span class="nx">查看版本</span>
<span class="nx">docker</span><span class="o">-</span><span class="nx">compose</span> <span class="o">--</span><span class="nx">version</span>        <span class="err">#</span><span class="nx">查看版本</span>
<span class="nx">docker</span><span class="o">-</span><span class="nx">machine</span> <span class="o">--</span><span class="nx">version</span>        <span class="err">#</span><span class="nx">查看版本</span>
<span class="nx">docker</span> <span class="nx">version</span>                  <span class="err">#</span><span class="nx">查看client和server端版本</span><span class="err">，</span><span class="nx">并可以查看是否开启体验功能</span>
<span class="nx">docker</span> <span class="nx">info</span>                     <span class="err">#</span><span class="nx">显示docker系统的信息</span>
<span class="nx">docker</span> <span class="nx">logs</span>                     <span class="err">#</span><span class="nx">日志信息</span>
<span class="nx">service</span> <span class="nx">docker</span> <span class="nx">status</span>           <span class="err">#</span><span class="nx">故障检查</span>
<span class="nx">sudo</span> <span class="nx">service</span> <span class="nx">docker</span> <span class="nx">start</span><span class="o">|</span><span class="nx">stop</span>  <span class="err">#</span><span class="nx">启动关闭docker</span>
</code></pre></div></div>

<h3 id="检查">检查</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">docker</span> <span class="nx">ps</span>                            <span class="err">#</span><span class="nx">查看当前正在运行的image实例</span>
<span class="nx">docker</span> <span class="nx">ps</span> <span class="o">-</span><span class="nx">a</span>                         <span class="err">#</span><span class="nx">查看所有镜像实例</span>
<span class="nx">docker</span> <span class="nx">run</span> <span class="nx">hello</span><span class="o">-</span><span class="nx">world</span>               <span class="err">#</span><span class="nx">验证docker是否在运行中</span>
<span class="nx">docker</span> <span class="nx">inspect</span> <span class="o">&lt;</span><span class="nx">task</span> <span class="nx">or</span> <span class="nx">container</span><span class="o">&gt;</span>   <span class="err">#</span><span class="nx">检查任务或容器</span>
</code></pre></div></div>

<h3 id="镜像image操作">镜像(image)操作</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">docker</span> <span class="nx">build</span> <span class="o">-</span><span class="nx">t</span> <span class="o">&lt;</span><span class="nx">image</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span> <span class="p">.</span>                      <span class="err">#</span><span class="nx">使用当前目录下的Dockerfile构建镜像</span>
<span class="nx">docker</span> <span class="nx">images</span>                                       <span class="err">#</span><span class="nx">查看镜像</span>
<span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">a</span>                                  <span class="err">#</span><span class="nx">显示机器上所有的镜像</span>
<span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nx">image</span> <span class="nx">id</span><span class="o">&gt;</span>                          <span class="err">#</span><span class="nx">删除指定的镜像</span>
<span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="nx">$</span><span class="p">(</span><span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">a</span> <span class="o">-</span><span class="nx">q</span><span class="p">)</span>            <span class="err">#</span><span class="nx">删除所有的镜像</span>
<span class="nx">docker</span> <span class="nx">rmi</span> <span class="p">[</span><span class="nx">image</span><span class="o">-</span><span class="nx">id</span><span class="o">/</span><span class="nx">image</span><span class="o">-</span><span class="nx">name</span><span class="p">]</span>                    <span class="err">#</span><span class="nx">删除指定的镜像</span><span class="err">，</span><span class="nx">如docker</span> <span class="nx">rmi</span> <span class="nx">nginx</span>
<span class="nx">docker</span> <span class="nx">tag</span> <span class="o">&lt;</span><span class="nx">image</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">username</span><span class="o">&gt;</span><span class="sr">/&lt;repository&gt;:&lt;tag&gt;    #为自定义的镜像打上tag。如：$docker tag hellopython followtry/</span><span class="nx">demo</span><span class="p">:</span><span class="nx">latest</span>
<span class="nx">docker</span> <span class="nx">push</span> <span class="o">&lt;</span><span class="nx">username</span><span class="o">&gt;</span><span class="sr">/&lt;repository&gt;:&lt;tag&gt;           #将自定义的镜像发布到仓库。如：docker push followtry/</span><span class="nx">demo</span><span class="p">:</span><span class="nx">latest</span>
    <span class="nx">上传后访问地址</span><span class="err">：</span><span class="nx">https</span><span class="p">:</span><span class="c1">//cloud.docker.com/swarm/followtry/repository/docker/followtry/demo/general</span>
<span class="nx">docker</span> <span class="nx">pull</span> <span class="o">&lt;</span><span class="nx">username</span><span class="o">&gt;</span><span class="sr">/&lt;repository&gt;                 #pull自定义的上传上去的镜像。如：$docker pull followtry/</span><span class="nx">demo</span>
<span class="nx">docker</span> <span class="nx">run</span> <span class="nx">username</span><span class="o">/</span><span class="nx">repository</span><span class="p">:</span><span class="nx">tag</span>                  <span class="err">#</span><span class="nx">运行仓库的镜像</span>
</code></pre></div></div>

<h3 id="容器container操作">容器(container)操作</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">docker</span> <span class="nx">container</span> <span class="nx">ls</span>                                <span class="err">#</span><span class="nx">列出所有运行中的容器</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">a</span>                             <span class="err">#</span><span class="nx">列出所有容器</span><span class="err">，</span><span class="nx">包括未运行的</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">q</span>                              <span class="err">#</span><span class="nx">只列出运行的容器的id集合</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">stop</span> <span class="o">&lt;</span><span class="nx">hash</span><span class="o">&gt;</span>                       <span class="err">#</span><span class="nx">优雅停用指定的容器</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">kill</span> <span class="o">&lt;</span><span class="nx">hash</span><span class="o">&gt;</span>                       <span class="err">#</span><span class="nx">强制关闭指定的容器</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nx">hash</span><span class="o">&gt;</span>                         <span class="err">#</span><span class="nx">删除指定的容器</span>
<span class="nx">docker</span> <span class="nx">container</span> <span class="nx">rm</span> <span class="nx">$</span><span class="p">(</span><span class="nx">docker</span> <span class="nx">container</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">a</span> <span class="o">-</span><span class="nx">q</span><span class="p">)</span>   <span class="err">#</span><span class="nx">删除所有的容器</span>
<span class="nx">docker</span> <span class="nx">run</span> <span class="o">-</span><span class="nx">d</span> <span class="o">-</span><span class="nx">p</span> <span class="mi">8080</span><span class="p">:</span><span class="mi">80</span> <span class="o">--</span><span class="nx">name</span> <span class="nx">webserver</span> <span class="nx">nginx</span>    <span class="err">#</span><span class="nx">运行nginx镜像实例</span><span class="err">，</span><span class="o">-</span><span class="nx">d</span><span class="err">：</span><span class="nx">后台</span><span class="err">，</span><span class="o">-</span><span class="nx">p</span><span class="p">:</span><span class="nx">绑定端口8080到docker的80</span>
<span class="nx">docker</span> <span class="nx">stop</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>           <span class="err">#</span><span class="nx">停止容器webserver</span>
<span class="nx">docker</span> <span class="nx">start</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>          <span class="err">#</span><span class="nx">启动容器webserver</span>
<span class="nx">docker</span> <span class="nx">port</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>           <span class="err">#</span><span class="nx">查看指定容器的端口映射</span>
<span class="nx">docker</span> <span class="nx">logs</span> <span class="o">-</span><span class="nx">f</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>        <span class="err">#</span><span class="nx">查看指定容器的日志</span>
<span class="nx">docker</span> <span class="nx">top</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>            <span class="err">#</span><span class="nx">查看容器的进程</span>
<span class="nx">docker</span> <span class="nx">inspect</span> <span class="o">&lt;</span><span class="nx">containerid</span><span class="o">/</span><span class="nx">container</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span>        <span class="err">#</span><span class="nx">检查容器的底层信息</span>
<span class="nx">docker</span> <span class="nx">rm</span> <span class="o">&lt;</span><span class="nx">hash</span><span class="o">&gt;</span>                                   <span class="err">#</span><span class="nx">从此机器中删除指定的容器</span>
<span class="nx">docker</span> <span class="nx">rm</span> <span class="nx">$</span><span class="p">(</span><span class="nx">docker</span> <span class="nx">ps</span> <span class="o">-</span><span class="nx">a</span> <span class="o">-</span><span class="nx">q</span><span class="p">)</span>                       <span class="err">#</span><span class="nx">从此机器中删除所有容器</span>
<span class="nx">docker</span> <span class="nx">kill</span> <span class="o">&lt;</span><span class="nx">hash</span><span class="o">&gt;</span>                                 <span class="err">#</span><span class="nx">强制关闭指定的容器</span>
</code></pre></div></div>
<p>参考文献 <a href="https://docs.docker-cn.com/">https://docs.docker-cn.com/</a> <br />
参考文献 <a href="https://segmentfault.com/a/1190000012063374">Docker常用命令</a></p>

								</div>
								<!-- Post Detail End -->
							</div>
						</div>
						<!-- Blog Post (Right Sidebar) End -->
					</div>
				</div>
				<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
    this.page.url = "http://localhost:4000/%E5%B7%A5%E5%85%B7/2018/10/19/docker-command.html";
    this.page.identifier = "/%E5%B7%A5%E5%85%B7/2018/10/19/docker-command.html";
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://cbpi.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

 				<!-- Footer Start -->
<div class="col-md-12 page-body margin-top-50 footer">
	<footer>
		<ul class="menu-link">
			<li><a href="/">首页</a></li>
			<li><a href="/about">关于</a></li>
			<li><a href="/category">分类</a></li>
		</ul>
		<p>© Copyright 2018 Drakecb. All rights reserved</p>

		<!-- UiPasta Credit Start -->
		<div class="uipasta-credit">我的另一个主页 <a href="https://drakecb.me" target="_blank">Drakecb.me</a></div>
		<!-- UiPasta Credit End -->
	</footer>
</div>
<!-- Footer End -->

			</div>
				<!-- Back to Top Start -->
	<a href="#" class="scroll-to-top"><i class="fas fa-long-arrow-alt-up"></i></a>
	<!-- Back to Top End -->
	<!-- All Javascript Plugins  -->
	
	<script type="text/javascript" src="/js/plugin.js"></script>
	<!-- Main Javascript File  -->
	<script type="text/javascript" src="/js/scripts.js"></script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120619613-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'UA-120619613-1');
		$('table').addClass('table table-striped table-bordered')
	</script>
</body>
</html>

