---
layout: post
title: jekyll学习(三 杂项)
date: 2018-06-12
category: Jekyll
comments: true
---

### DISQUS评论
---
如果需要让文章支持评论功能，需要在文章头部启用
{% highlight javascript %}
---
layout: post
title: jekyll学习(三 杂项)
date: 2018-06-12
category: Jekyll
comments: true
---
{% endhighlight %}

comments设置为true，然后在_include目录下面新建一个comments.html。所有用到评论的地方我们可以引用这个模板。由于我使用的是[DISQUS](https://disqus.com/)，首先需要在DISQUS官网注册账号，填写好几本信息后把下面这串代码复制到comments.html里面：

{% highlight javascript %}
<div id="disqus_thread"></div>
<script>


var disqus_config = function () {
 this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
 var d = document, s = d.createElement('script');
 s.src = 'https://EXAMPLE.disqus.com/embed.js';
 s.setAttribute('data-timestamp', +new Date());
 (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
{% endhighlight %}

根据提示我们需要更改三个地方：  
this.page.url = {% raw %}"{{ page.url | prepend: site.baseurl | prepend: site.url }}";{% endraw %}  
this.page.identifier = {% raw %}""{{ page.url }}";{% endraw %}  
s.src = 'https://EXAMPLE.disqus.com/embed.js'; (EXAMPLE需要替换成自己DISQUW中的名字)

### 引用代码片段
---
如果需要引用代码片段直接用'{{ something }}'的形式是会被解析的，比如我们想告诉读者![image](/images/jekyll03.jpg)意思是输出标题，但是这样引用会直接把本文的标题输出出来，所以我们需要用[liquid](https://liquid.bootcss.com/basics/truthy-and-falsy/)提供的一个语法: raw来处理这样的需求：  
![image](/images/jekyll03.1.png)  
处理后的结果  
![image](/images/jekyll03.2.png)  

### 高亮显示
---
关于高亮显示，有很多选择，比如Pygments，Highlight JS，SyntaxHighlighter，Prismjs等等。我个人用的是Rouge，需要改下_config.yml文件：
{% highlight ruby %}
markdown: kramdown
highlighter: rouge
{% endhighlight %}

然后重启下服务，jekyll serve。[http://rouge.jneen.net/](http://rouge.jneen.net)在这个官网可以生成对应语言的css。使用Chrome的话可以打开开发者工具在sources里面的assets文件夹里找到css文件，因为是压缩过的我们另存为本地后需要格式化一下，把高亮部分的css复制出来，另存为你的css样式，然后在head里面引入就可以了。