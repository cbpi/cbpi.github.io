---
layout: post
title: 如何在内网使用vue-cli
date: 2018-09-14
category: vue
comments: true
excerpt: 最近有个新项目，由于保密程度高需要在内网开发，但是没有网络的情况下很难使用npm，不过内网开发的系统是windows的，所有我有了个大胆的想法来解决这个问题。
tags: [vue]
---

## 现有工具

1. 一台没有网络环境的windows7 64位pc
2. 一台可以连接互联网的windows10 64位pc

### 步骤

1. （此步骤在有网pc上操作）   
有网电脑上登陆[Node.js 中文](http://nodejs.cn)、[Node.js 英文](https://nodejs.org/)官网，下载对应操作系统的安装文件，文件下载好后下一步下一步无限下一步直到安装完成为止。使用(win+r)，输入cmd打开命令行界面，在命令行界面里面输入`node -v`如果输出版本信息，说明nodejs安装成功，`npm -v` 会返回npm的版本信息。到此为止有网下的node环境已经安装好了，接下来我们进入我的电脑->c:盘->用户->你的用户名文件夹->AppData(这个文件夹默认隐藏的，需要在查看，显示隐藏项目里面打钩开启才能看见)->Roaming->npm，此时这个文件夹下面是空的。

2. （此步骤在有网pc上操作）   
因为vue-cli只能用npm安装，打开命令行界面，输入`npm install -g @vue/cli`全局安装，漫长的等待过后，我们继续回到第一个步骤的最终路径下面，发现此时npm文件加下已经有东西了。（刚装完node.js这个目录下是空的）![image](http://pdfetjd6h.bkt.clouddn.com/IMG_1234.PNG)   
![image](http://pdfetjd6h.bkt.clouddn.com/IMG_1235.PNG)   

3. （此步骤在有网pc上操作）
    > * 将步骤1.中的node.js安装文件拷贝至U盘   
    > * 将步骤1.中的npm目录整个拷贝到U盘

4. （此步骤在无网pc上操作）   
将U盘插在无网pc上，取出步骤3.中的2个文件，首先安装node环境，安装完成后，参考步骤1.中的路径将npm文件夹拷贝到相应路径下。到此无网pc中的node环境也已经搭建好了。

5. 在有网环境下用vue-cli创建一个项目，安装所有依赖，安装完成后将项目整个拷贝至无网pc中，这样就可以愉快的在无网环境下做开发了。如果开发过程中还需用到node模块，只需在有网环境中先安装依赖包，然后再拷贝至无网pc中运行就可以了，整个步骤可以重复，保证一点：**`拷贝过程是将项目的整个目录拷贝过去`**。（ps：如果开发系统不同，比如在macOS下使用vue-cli创建的项目，需要先拷贝至同操作系统的有网pc，然后先删除项目中的node_modules，接着执行`npm install`命令，待所有依赖包都安装结束后再把这个项目目录拷贝到无网pc中，这样做是是为了防止不同操作系统运行`vue-cli-service serve`会报不是内部命令的错误）。